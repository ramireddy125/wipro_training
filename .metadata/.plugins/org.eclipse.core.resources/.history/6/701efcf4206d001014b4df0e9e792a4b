package com.day_10;
import java.util.*;
import java.time.LocalDateTime;
import java.time.format.DateTimeFormatter;

class Appointment {
    String patientName;
    LocalDateTime dateTime;

    Appointment(String patientName, LocalDateTime dateTime) {
        this.patientName = patientName;
        this.dateTime = dateTime;
    }

    public String toString() {
        DateTimeFormatter formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm");
        return patientName + " - " + dateTime.format(formatter);
    }
    public boolean equals(Object obj) {
        if (this == obj) return true;
        if (!(obj instanceof Appointment)) return false;
        Appointment a = (Appointment) obj;
        return this.patientName.equals(a.patientName)
            && this.dateTime.equals(a.dateTime);
    }

    public int hashCode() {
        return Objects.hash(patientName.toLowerCase(), dateTime);
    }
}


public class TreeSet_Ex {
	

	public static void main(String[] args) {
		
		 TreeSet<Appointment> appointments = new TreeSet<>(new Comparator<Appointment>() {
	            public int compare(Appointment a1, Appointment a2) {
	                // If dateTime is same, compare patientName to avoid false duplicates
	                if (a1.dateTime.equals(a2.dateTime)) {
	                    return a1.patientName.compareToIgnoreCase(a2.patientName);
	                }
	                return a1.dateTime.compareTo(a2.dateTime);
	            }
	        });

	        // Sample appointments
	        appointments.add(new Appointment("Venkat", LocalDateTime.of(2025, 8, 1, 10, 0)));
	        appointments.add(new Appointment("Anil", LocalDateTime.of(2025, 7, 30, 9, 30)));
	        appointments.add(new Appointment("Bhanu", LocalDateTime.of(2025, 7, 30, 11, 0)));
	        appointments.add(new Appointment("Venkat", LocalDateTime.of(2025, 8, 1, 10, 0))); // Duplicate (ignored)

	        // Display
	        System.out.println("ðŸ“… Scheduled Appointments (Chronological Order):");
	        for (Appointment a : appointments) {
	        	   System.out.println(a);
	        
	        }
		
	}

}
